<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Webaudio Databending</title>
  </head>
  <body>
    <synth-brain>
      <audio-uploader></audio-uploader>
      <image-uploader></image-uploader>
      <flex-box>
        <synth-display></synth-display>
      </flex-box>
      <flex-box direction="column">
        <synth-waveform></synth-waveform>
        <synth-slider name="grainIndex" min="1" max="100" label="Position"i value="9"></synth-slider>
      </flex-box>
      <flex-box>
        <synth-slider name="grainSize" min="1" max="1000" label="Grain Size"></synth-slider>
        <synth-slider name="density" min="1" max="128" label="Density"></synth-slider>
        <synth-slider name="window" min="1" max="10" label="Window" step="0.1"></synth-slider>
        <synth-slider name="spray" min="1" max="128" label="Spray" step="1"></synth-slider>
        <synth-slider name="random" min="0" max="1" label="Random" step="0.01"></synth-slider>
      </flex-box>
      <flex-box>
        <h4>Bitcrusher</h4>
        <synth-slider min="0" max="16" step="4" name="effects.bitcrusher.bits" label="Bits"></synth-slider>
        <synth-slider min="0.0001" max="1" step="0.001" name="effects.bitcrusher.normfreq" label="Norm Freq"></synth-slider>
      </flex-box>
      <flex-box>
        <h4>Reverb</h4>
        <synth-slider min="0" max="1" step="0.01" name="effects.convolver.level" label="Level"></synth-slider>
        <synth-select name="effects.convolver.impulse" label="Type"></synth-select>
      </flex-box>
      <play-button></play-button>
    </synth-brain>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tunajs/1.0.4/tuna-min.js"></script>
    <script type="importmap">
      {
        "imports": {
          "databender": "/node_modules/databender/index.js"
        }
      }
    </script>
    <script type="module">
      import { App } from "./AppNew.js";

      App();
    </script>
  </body>
</html>
